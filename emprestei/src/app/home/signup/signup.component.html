<h4 class="text-center"> Cadastre-se!</h4>

<form [formGroup]="signUpForm" class="form mt-4" (submit)="signup()">
    <div class="form-group">
        <input #emailInput formControlName="acc_email" placeholder="E-mail" class="form-control" autofocus >
        <app-vmessage 
            *ngIf="signUpForm.get('acc_email').errors?.required"
            text="E-mail é requerido!">
        </app-vmessage>
        <app-vmessage 
            *ngIf="signUpForm.get('acc_email').errors?.email"
            text="E-mail inválido!">
        </app-vmessage>
    </div>

    <div class="form-group">
        <input formControlName="acc_name" placeholder="Nome Completo" class="form-control">
        <app-vmessage 
            *ngIf="signUpForm.get('acc_name').errors?.required"
            text="Nome completo é requerido!">
        </app-vmessage>
        <app-vmessage 
            *ngIf="signUpForm.get('acc_name').errors?.minlength"
            text="Tamanho minímo 2 caracteres">
        </app-vmessage>
        <app-vmessage 
            *ngIf="signUpForm.get('acc_name').errors?.maxlength"
            text="Tamanho máximo 40 caracteres">
        </app-vmessage>
    </div>

    <div class="form-group">
        <input formControlName="acc_dt_birthday" placeholder="Data de nascimento" class="form-control">
        <app-vmessage 
            *ngIf="signUpForm.get('acc_dt_birthday').errors?.required"
            text="Data de nascimento é requerida!">
        </app-vmessage>
        <app-vmessage 
            *ngIf="signUpForm.get('acc_dt_birthday').errors?.date"
            text="Insira uma data válida!">
        </app-vmessage>

    </div>

    <div class="form-group">
        <input formControlName="acc_username" placeholder="Nome de usuário" class="form-control">
        <app-vmessage 
            *ngIf="signUpForm.get('acc_username').errors?.required"
            text="Nome de usuário é requerido!">
        </app-vmessage>
        <app-vmessage 
            *ngIf="signUpForm.get('acc_username').errors?.minlength"
            text="Tamanho minímo 2 caracteres">
        </app-vmessage>
        <app-vmessage 
            *ngIf="signUpForm.get('acc_username').errors?.maxlength"
            text="Tamanho máximo 30 caracteres">
        </app-vmessage>
        <app-vmessage
            text="Nome de usuário já existe!"
            *ngIf="signUpForm.get('acc_username').errors?.userNameTaken">
        </app-vmessage>
        <small *ngIf="signUpForm.get('acc_username').valid" class="text-success">User available</small>
    </div>

    <div class="form-group">
        <input formControlName="acc_password" type="password" placeholder="Senha" class="form-control">
        <app-vmessage 
            *ngIf="signUpForm.get('acc_password').errors?.required"
            text="Senha é requerida!">
        </app-vmessage>
        <app-vmessage 
            *ngIf="signUpForm.get('acc_password').errors?.minlength"
            text="Tamanho minímo 8 caracteres">
        </app-vmessage>
        <app-vmessage 
            *ngIf="signUpForm.get('acc_password').errors?.maxlength"
            text="Tamanho máximo 30 caracteres">
        </app-vmessage>
    </div>

    <button [disabled]="signUpForm.invalid || signUpForm.pending" class="btn btn-primary btn-block">Register</button>

    <button class="btn btn-primary btn-block" (click)="loadUser()">Preencher</button>

    <p>Já é usuário? <a [routerLink]="['']">Entre agora!</a></p>
</form>